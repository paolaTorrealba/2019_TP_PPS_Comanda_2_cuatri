<ion-header>
  <ion-toolbar>
    <ion-title>rock-paper-scissors</ion-title>
  </ion-toolbar>
</ion-header>

<ion-content>
  <div class="container">
    <div class="cardGame">
      <h1>Piedra Papel o Tijeras</h1>

      <div class="content">
        <div class="row">
          <mat-card>
            <mat-card-content>
              <div class="content1">
                <h2>{{nombre}}</h2>
                <button mat-fab color="primary" class="score">{{ scores[0] }}</button>
              </div>
              <h3> Elegí tu arma: </h3>
              <div class="content2">
                <i (click)="pick(0)" [ngClass]="{'selectedWeapon':(playerSelected === 0)}"
                  class="fa fa-hand-rock-o"></i>
                <i (click)="pick(1)" [ngClass]="{'selectedWeapon':(playerSelected === 1)}"
                  class="fa fa-hand-paper-o"></i>
                <i (click)="pick(2)" [ngClass]="{'selectedWeapon':(playerSelected === 2)}"
                  class="fa fa-hand-scissors-o"></i>
              </div>
            </mat-card-content>
          </mat-card>
        </div>
        <mat-card>
          <mat-card-content>
            <div class="content1">
              <h2> La máquina</h2>
              <button mat-fab color="accent" class="score">{{ scores[1] }}</button>

            </div>
            <br><br>

            <div *ngIf="enemySelected !== -1" class="flex-container flex-center">
              <i *ngIf="enemySelected === 0" class="fa fa-hand-rock-o"></i>
              <i *ngIf="enemySelected === 1" class="fa fa-hand-paper-o"></i>
              <i *ngIf="enemySelected === 2" class="fa fa-hand-scissors-o"></i>
            </div>
          </mat-card-content>
        </mat-card>

      </div>
      <div *ngIf="!loading && isResultShow" class="flex-container flex-center" style="flex-direction: column">
        <div [ngSwitch]="theResult">
          <ng-template [ngSwitchCase]="0">
            <h1> Ganaste! </h1>
          </ng-template>
          <ng-template [ngSwitchCase]="1">
            <h1> Perdiste </h1>
          </ng-template>
          <ng-template [ngSwitchCase]="2">
            <h1>Es un empate! </h1>
          </ng-template>
          <ng-template ngSwitchDefault> </ng-template>
        </div>
        <p> Selecciona de nuevo para continuar o</p>
        <button (click)="reset()" mat-raised-button color="primary"> Restear puntuación</button>
      </div>

      <div class="flex-container flex-center" *ngIf="loading">
        <mat-spinner></mat-spinner>
      </div>
    </div>
    <button id="btnSalir" type="button" class="float-right mt-3 btn btn-secondary"
      (click)="salir()">{{btnMensaje}}</button>
  </div>
</ion-content>